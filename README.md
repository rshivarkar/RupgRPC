# gRPC Server and Client - Asp.net

We will build 3 projects to demonstrate the application.

1) Proto library
2) gRPC server
3) gRPC client

**Step 1) Proto library** 

Create new class library project for defining proto file.

Add below 3 packages

![image](https://user-images.githubusercontent.com/33204947/204104771-83c47d3e-fb65-4530-a399-d6798156ffbc.png)

Add proto file.

Build the project 

you will notice autogenerated files in obj folder

![image](https://user-images.githubusercontent.com/33204947/204104784-d8f7faa3-055e-486e-80ce-ca5b244b3d96.png)

**Step 2) gRPC server**

Create new project of type 

![image](https://user-images.githubusercontent.com/33204947/204104793-98b93761-4c9e-4cdd-b122-feb63cd80a93.png)

Add reference to proto library

by default template will create GreeterService.cs file, you can create new service file as per your proto and then implement the functionality for interfaces defined in proto file.

Build the project and run.

Test using any grpc client tool - such as Kreya



![image](https://user-images.githubusercontent.com/33204947/204104815-37d599af-f8d1-4dd8-a884-fbeb81634869.png)

**Step 3) gRPC client**

Create new project 

![image](https://user-images.githubusercontent.com/33204947/204104832-97091d53-53a4-4242-841d-1c55722d46b7.png)

Add reference for proto library

Add grpc client in startup/program.cs

builder.Services.AddGrpcClient<RupgRPCServer.Greeter.GreeterClient>(client =>
{
    client.Address = new Uri("http://localhost:5048");
}
);

Add reference of grpc client to controller and call the grpc method

![image](https://user-images.githubusercontent.com/33204947/204104826-2b29242f-10d6-4a52-b2bd-77df1730bc40.png)

